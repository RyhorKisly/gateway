# gateway

## Особенности реализации проекта

- Проект создан с целью показать различные способы реализации api-gateway. А именно mvc и reactive.

    - В данном проекте, мной были использованы следующие технологии:
        - Spring boot;
        - Spring MVC;
        - Keycloak;
        - Spring gateway-mvc;
        - Spring gateway;
        - Spring security;
        - Security WebFlux;
        - Zipkin;
        - Lombock;
        - Docker (Базы данных поднимаются в докер).

## Описание функционала:

1. При запуске приложения происходит автоматическая настройка Keycloak при помощи импорта преднастроек.
2. В приложении можно произвести следующие действия:
   - авторизация;
   - создание пользователя;
   - оплучение списка пользователей при использовании токена;
3. В одном и втором gateway по разному реализовано присвоение новых header для дальнейшего использования в user-service.

## Инструкция по запуску проекта

Для запуска проекта потребуется:
- java 17
- docker
- доступ в интернет (при необходимости)

1. Перед запуском программы, в корневой папке "gateway-mvc-service" выполните команду "mvn clean install";
2. Перед запуском программы, в корневой папке "gateway-reactive-logger" выполните команду "mvn clean install"
3. Перед запуском программы, в корневой папке "user-service" выполните команду "mvn clean install"
5. Запустите докер;
6. В корневой папке "gateway" выполните команду "docker-compose up" для поднятия всех необходимых контейнеров;
10. Без аутентификации у вас открыт доступ к 2 операциям: регистрация и авторизация;
11. После аутентификации в headers скопируйте token и в постмане добавьте его в поле хедера "Authorization" - "Bearer token";
12. К проекту прикреплены коллекции для Postman в папке postman-collections.
13. При необходимости запустить сервисы (user-servcie, gateway-mvc-service, gateway-reactive-service) локально, введите profile: local
Порты:  
- user-service: 8080;
- через mvc-gateway:8081;
- через reactive-gateway:8082.

---
